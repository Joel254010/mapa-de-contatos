@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   üåé AJUSTES GLOBAIS ‚Äî RESPONSIVIDADE MOBILE (APP NATIVO)
   ============================================================ */

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  background-color: #F8FAFC;
  -webkit-tap-highlight-color: transparent;
}

/* Fonte geral no mobile */
@media (max-width: 480px) {
  body {
    font-size: 15px;
    line-height: 1.35;
  }
}

/* Layout principal deve ocupar largura total */
main {
  display: block;
  width: 100%;
  overflow-x: hidden;
}

/* Remover scroll lateral em qualquer container */
* {
  box-sizing: border-box;
}

/* ============================================================
   üìå SIDEBAR MOBILE ‚Äî ESTILO APP
   ============================================================ */

.sidebar {
  transition: left 0.3s ease;
}

@media (max-width: 768px) {
  .sidebar {
    position: fixed;
    left: -100%;
    top: 0;
    width: 82%;
    max-width: 290px;
    height: 100vh;
    background-color: #0B3C5D;
    z-index: 80;
    overflow-y: auto;
    padding-bottom: 2rem;
    box-shadow: 4px 0 18px rgba(0,0,0,0.35);
  }

  .sidebar.open {
    left: 0;
  }
}

/* Overlay escurecido atr√°s da sidebar */
.sidebar-overlay {
  display: none;
}

@media (max-width: 768px) {
  .sidebar-overlay {
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    z-index: 70;
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s ease;
  }

  .sidebar-overlay.active {
    opacity: 1;
    pointer-events: auto;
  }
}

/* ============================================================
   üìå HEADER FIXO ‚Äî ESTILO APP iOS / ANDROID
   ============================================================ */

header {
  backdrop-filter: blur(4px);
}

@media (max-width: 768px) {
  header {
    position: sticky;
    top: 0;
    z-index: 60;
    padding-top: env(safe-area-inset-top);
    background: rgba(255,255,255,0.85) !important;
  }

  header.dark {
    background: rgba(30,41,59,0.75) !important;
  }
}

/* ============================================================
   üìå GRID GLOBAL ‚Äî AUTO AJUSTE NO CELULAR
   ============================================================ */

.grid-auto-responsive {
  display: grid;
}

@media (max-width: 768px) {
  .grid-auto-responsive {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
}

/* Cards ocupam toda largura no mobile */
.card,
.conversa-card,
.dashboard-card {
  width: 100%;
  max-width: 100%;
}

/* ============================================================
   üìå INPUTS E FORMUL√ÅRIOS ‚Äî MOBILE PREMIUM
   ============================================================ */

input,
textarea,
select {
  max-width: 100%;
  border-radius: 10px;
}

/* Evita zoom autom√°tico no iPhone */
@media (max-width: 480px) {
  input,
  textarea,
  select {
    font-size: 16px !important;
    padding: 12px !important;
  }
}

/* ============================================================
   üìå AJUSTE GLOBAL PARA SCROLL EM P√ÅGINAS LONGAS
   ============================================================ */

.mobile-scroll {
  height: calc(100vh - 60px);
  overflow-y: auto;
  padding-bottom: 2rem;
}

/* ============================================================
   üìå BOT√ïES UNIVERSAIS ‚Äî MELHOR TOQUE NO SMARTPHONE
   ============================================================ */

button {
  touch-action: manipulation;
}

/* Aumenta √°rea de toque no mobile */
@media (max-width: 480px) {
  button {
    padding: 10px 14px;
  }
}

/* ============================================================
   üìå T√çTULOS RESPONSIVOS
   ============================================================ */

@media (max-width: 480px) {
  h1 { font-size: 1.4rem !important; }
  h2 { font-size: 1.25rem !important; }
  h3 { font-size: 1.1rem !important; }
  .text-lg { font-size: 1rem !important; }
}
